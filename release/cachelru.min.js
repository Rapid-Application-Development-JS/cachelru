!function(e,r){"function"==typeof define&&define.amd?define(function(){return e.CacheLRU=r()}):"object"==typeof module&&module.exports?module.exports=e.CacheLRU=r():e.CacheLRU=r()}(this,function(){"use strict";function e(e){function r(e,r,t,n){return e=parseFloat(e),!isFinite(e)||isNaN(e)?r:(e=parseFloat(e.toFixed(0)),arguments.length<4&&(n=Number.MAX_VALUE,arguments.length<3&&(t=0,arguments.length<2&&(r=0))),isFinite(e)?e>n?n:t>e?t:e:r)}function t(e,r){for(var t=new Array(Math.max(0,e)),n=0;e>n;n+=1)t[n]=r.call();return t}var n=2,i=r(e,n,n,Number.MAX_VALUE),o=0,a={},l=this;l.destroy=function(){l.head=l.tail=void 0,o=0,a={}},l.get=function(e,r){var t=a[e];if(void 0!==t)return t===l.tail?r?t:t.value:(t.newer&&(t===l.head&&(l.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=l.tail,l.tail&&(l.tail.newer=t),l.tail=t,r?t:t.value)},l.isSet=function(e){return a[e]},l.iterate=function(e,r,t){var n;if("object"!=typeof r&&(r=l),t)for(n=l.tail;n;)e.call(r,n.key,n.value,l),n=n.older;else for(n=l.head;n;)e.call(r,n.key,n.value,l),n=n.newer},l.keys=function(){return Object.keys(a).sort()},Object.defineProperty(l,"limit",{get:function(){return i},set:function(e){e=parseInt(e),(isNaN(e)||!isFinite(e)||n>e)&&(e=n),i=e,o-e&&t(o-e,l.shift.bind(l))}}),l.put=function(e,r){var t={key:e,value:r};return a[e]=t,l.tail?(l.tail.newer=t,t.older=l.tail):l.head=t,l.tail=t,o===i?l.shift():(o+=1,null)},l.remove=function(e){var r=a[e];if(r)return delete a[r.key],r.newer&&r.older?(r.older.newer=r.newer,r.newer.older=r.older):r.newer?(r.newer.older=void 0,l.head=r.newer):r.older?(r.older.newer=void 0,l.tail=r.older):void 0===r.older&&void 0===r.newer&&(l.head=l.tail=void 0),o--,r.value},l.set=function(e,r){var t,n=l.get(e,!0);return n?(t=n.value,n.value=r):(t=l.put(e,r),t&&(t=t.value)),t},l.shift=function(){var e=l.head;return e&&(l.head.newer?(l.head=l.head.newer,l.head.older=void 0):l.head=void 0,e.newer=e.older=void 0,delete a[e.key]),e}}return e});
//# sourceMappingURL=release/cachelru.min.js.map